# UX Specification: F001-US005
## Version: 2.0

## Overview
Provide an intelligent ranking and prioritization interface for discovered trading opportunities, enabling users to quickly identify the most promising strategies based on risk-adjusted returns and portfolio fit.

## User Flow (Happy Path)
1. Entry: User navigates to Strategy Discovery dashboard and views "Opportunities" tab
2. Interaction: System displays ranked list of discovered opportunities with key metrics â†’ User reviews prioritized strategies and filters by criteria
3. Completion: User selects high-priority opportunities for further analysis or immediate deployment

## Screen Specifications

### Screen: Opportunity Ranking Dashboard
**Purpose**: Display prioritized list of discovered trading opportunities with comprehensive ranking metrics

**Layout**:
- USES: page_header from P40-10
- USES: main_navigation from P40-10
- USES: data_table from P40-10
- USES: metric_display from P40-10
- Grid: Responsive layout with filters sidebar (25%) and main content area (75%)

**Design Tokens**:
```yaml
layout:
  container_padding: "spacing.semantic.2xl"
  content_gap: "spacing.semantic.lg"
  sidebar_width: "spacing.scale.64"
  
colors:
  background: "colors.semantic.background"
  surface: "colors.semantic.surface_elevated"
  text_primary: "colors.semantic.text.primary"
  text_secondary: "colors.semantic.text.secondary"
  border: "colors.semantic.border.subtle"
  
typography:
  page_title: "typography.semantic.h2"
  section_title: "typography.semantic.h4"
  body: "typography.semantic.body"
  
effects:
  card_shadow: "effects.semantic.card"
  transition: "effects.semantic_transitions.hover"
```

**Component Customization**:
```yaml
page_header:
  overrides:
    title: "Strategy Opportunities"
    subtitle: "Ranked by risk-adjusted return potential"
    
data_table:
  overrides:
    columns: ["Rank", "Strategy", "Sharpe Ratio", "Max Drawdown", "Capacity", "Correlation Score", "Actions"]
    sortable: true
    row_height: "components.table.row_height"
```

**Interactions**:
- Click strategy row: Navigate to detailed strategy analysis with `effects.semantic_transitions.page`
- Hover metric cells: Show tooltip with calculation details using `colors.semantic.surface_elevated`
- Sort columns: Reorder table with `effects.semantic_transitions.normal`
- Filter controls: Update rankings in real-time with `effects.semantic_transitions.fast`

**Responsive Behavior**:
- Mobile (<768px): Stack filters above table, hide less critical columns
- Desktop (>768px): Side-by-side layout with full table columns

### Screen: Strategy Detail Modal
**Purpose**: Provide comprehensive details for a selected opportunity including risk metrics and deployment options

**Layout**:
- USES: modal from P40-10
- USES: performance_chart from P40-10
- USES: metric_display from P40-10
- USES: button from P40-10
- Grid: Two-column layout with metrics (40%) and chart visualization (60%)

**Design Tokens**:
```yaml
layout:
  modal_padding: "spacing.semantic.2xl"
  section_gap: "spacing.semantic.xl"
  metric_grid_gap: "spacing.semantic.md"
  
colors:
  modal_background: "colors.semantic.surface_elevated"
  section_border: "colors.semantic.border.subtle"
  metric_positive: "colors.semantic.profit"
  metric_negative: "colors.semantic.loss"
  
typography:
  modal_title: "typography.semantic.h3"
  metric_label: "typography.semantic.body_sm"
  metric_value: "typography.semantic.price"
```

**Component Customization**:
```yaml
modal:
  overrides:
    size: "xl"
    title: "Strategy Analysis"
    
performance_chart:
  overrides:
    height: 300
    type: "line"
    showGrid: true
    interactive: true
```

**Interactions**:
- Close modal: Return to opportunity list with `effects.semantic_transitions.modal`
- Deploy strategy: Launch deployment wizard with confirmation
- Add to watchlist: Save strategy for later review with success toast

## State Management
**States with Token References**:
```yaml
loading:
  spinner_color: "colors.semantic.primary"
  overlay_background: "colors.semantic.surface"
  
ranking_complete:
  table_background: "colors.semantic.background"
  highlight_color: "colors.semantic.primary_light"
  
no_opportunities:
  message_color: "colors.semantic.text.secondary"
  icon_color: "colors.semantic.text.tertiary"
  
error_state:
  background: "colors.semantic.status.error"
  text: "colors.semantic.text.inverse"
```

## Priority Ranking Algorithm Display
**Visual Hierarchy**:
```yaml
rank_indicators:
  high_priority:
    background: "colors.semantic.profit"
    text: "colors.semantic.text.inverse"
    icon: "trending-up"
    
  medium_priority:
    background: "colors.semantic.warning"
    text: "colors.semantic.text.primary"
    icon: "minus"
    
  low_priority:
    background: "colors.semantic.neutral"
    text: "colors.semantic.text.inverse"
    icon: "trending-down"
```

## Filter Controls
**Filter Panel Design**:
```yaml
filter_section:
  background: "colors.semantic.surface"
  border: "colors.semantic.border.default"
  padding: "spacing.semantic.lg"
  gap: "spacing.semantic.md"
  
filter_inputs:
  sharpe_ratio_min: "form_field with number type"
  max_drawdown_max: "form_field with percentage format"
  asset_class: "select_dropdown with multi-select"
  correlation_threshold: "form_field with slider input"
```

## Shared Components Usage Summary
- page_header: Main dashboard header
- main_navigation: Top-level navigation
- data_table: Opportunity rankings table
- metric_display: 8 instances for key metrics
- modal: Strategy detail overlay
- performance_chart: Backtest visualization
- button: 4 instances for actions
- form_field: 4 instances for filters
- select_dropdown: 2 instances for categorical filters

## Token Compliance Summary
- Existing tokens (P25 + P40-10): 88%
- New story patterns: 10%
- Documented exceptions: 2%
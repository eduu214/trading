# UX Specification: F003-US002
## Version: 2.0

## Overview
Automated strategy rotation system that continuously monitors strategy performance and market conditions to retire underperforming strategies, reduce allocations for declining performance, and introduce new strategies when correlation requirements are met.

## User Flow (Happy Path)
1. Entry: User accesses Portfolio Management dashboard to review current strategy rotation status
2. Monitoring: System displays real-time strategy performance metrics with rotation recommendations
3. Review: User reviews automated rotation suggestions and performance decay indicators
4. Approval: User approves or modifies rotation recommendations with single-click actions
5. Execution: System executes approved rotations and updates portfolio allocations
6. Confirmation: User receives confirmation of completed rotations with updated portfolio state

## Screen Specifications

### Screen: Strategy Rotation Dashboard
**Purpose**: Central monitoring interface for automated strategy rotation with performance tracking and rotation controls

**Layout**:
- USES: page_header from P40-10
- USES: main_navigation from P40-10
- USES: grid_layout from P40-10 (3-column responsive layout)
- USES: data_card from P40-10 for rotation summary
- USES: strategy_card from P40-10 for individual strategy display

**Design Tokens**:
```yaml
layout:
  container_padding: "spacing.semantic.2xl"
  section_gap: "spacing.semantic.xl"
  card_grid_gap: "spacing.semantic.lg"
  
colors:
  background: "colors.semantic.background"
  section_divider: "colors.semantic.border.subtle"
  
typography:
  section_heading: "typography.semantic.h3"
  metric_label: "typography.semantic.body_sm"
```

**Component Customization**:
```yaml
page_header:
  overrides:
    title: "Strategy Rotation Management"
    subtitle: "Automated performance monitoring and rotation controls"
    
strategy_card:
  overrides:
    show_rotation_indicators: true
    performance_period: "60_days"
```

**Interactions**:
- Click strategy card: Navigate to detailed strategy performance view
- Hover rotation indicator: Show performance decay timeline with `effects.semantic_transitions.hover`
- Click rotation action: Open confirmation modal with `effects.semantic_transitions.modal`

**Responsive Behavior**:
- Mobile (<768px): Single column stack, `spacing.semantic.md` gaps
- Tablet (768px-1024px): Two column grid, `spacing.semantic.lg` gaps  
- Desktop (>1024px): Three column grid, `spacing.semantic.xl` gaps

### Screen: Rotation Recommendations Panel
**Purpose**: Display automated rotation suggestions with performance justification and approval controls

**Layout**:
- USES: data_card from P40-10 as container
- USES: button from P40-10 for approval actions
- USES: metric_display from P40-10 for performance metrics
- USES: status_badge from P40-10 for rotation status

**Design Tokens**:
```yaml
layout:
  panel_padding: "spacing.semantic.xl"
  recommendation_gap: "spacing.semantic.lg"
  action_button_gap: "spacing.semantic.md"
  
colors:
  recommendation_background: "colors.semantic.surface_elevated"
  warning_background: "colors.semantic.status.warning"
  success_background: "colors.semantic.status.success"
  
typography:
  recommendation_title: "typography.semantic.h4"
  justification_text: "typography.semantic.body"
  performance_metric: "typography.semantic.price"
```

**Component Customization**:
```yaml
metric_display:
  overrides:
    format: "percentage"
    trend_threshold: 0.8
    
status_badge:
  overrides:
    rotation_types: ["retire", "reduce", "introduce"]
```

**Interactions**:
- Click "Approve All": Bulk approve recommendations with loading state
- Click individual approve: Single recommendation approval with `effects.semantic_transitions.fast`
- Click "View Details": Expand recommendation with detailed performance analysis

### Screen: Strategy Performance Timeline
**Purpose**: Detailed view of strategy performance over time with rotation trigger points

**Layout**:
- USES: performance_chart from P40-10 for main timeline
- USES: data_table from P40-10 for performance metrics
- USES: alert_banner from P40-10 for rotation alerts

**Design Tokens**:
```yaml
layout:
  chart_container_padding: "spacing.semantic.lg"
  timeline_height: "spacing.scale.64"
  metrics_table_gap: "spacing.semantic.md"
  
colors:
  timeline_background: "colors.semantic.background"
  performance_threshold_line: "colors.semantic.status.warning"
  rotation_trigger_point: "colors.semantic.status.error"
  
typography:
  timeline_labels: "typography.semantic.caption"
  performance_values: "typography.semantic.price"
```

**Component Customization**:
```yaml
performance_chart:
  overrides:
    show_threshold_lines: true
    highlight_rotation_points: true
    time_period: "90_days"
    
data_table:
  overrides:
    columns: ["date", "performance", "allocation", "status"]
    sortable: true
```

**Interactions**:
- Hover chart points: Show detailed performance tooltip with `effects.semantic_transitions.fast`
- Click rotation trigger: Show rotation decision details in modal
- Drag timeline: Adjust time period view with smooth transitions

## State Management
**States with Token References**:
```yaml
rotation_pending:
  indicator_color: "colors.semantic.status.warning"
  background_overlay: "colors.semantic.surface"
  
rotation_executing:
  spinner_color: "colors.semantic.primary"
  progress_background: "colors.semantic.primary_light"
  
rotation_completed:
  success_color: "colors.semantic.status.success"
  confirmation_background: "colors.semantic.surface_elevated"
  
performance_warning:
  alert_background: "colors.semantic.status.warning"
  text_color: "colors.semantic.text.primary"
  
strategy_retirement:
  fade_opacity: "0.6"
  retirement_indicator: "colors.semantic.status.error"
```

## Shared Components Usage Summary
- page_header: Main dashboard header
- strategy_card: 8-12 instances for active strategies
- data_card: 4 instances for summary metrics
- performance_chart: 2 instances for timeline views
- metric_display: 15+ instances for performance metrics
- button: 6 instances for rotation actions
- status_badge: 10+ instances for strategy states
- data_table: 1 instance for detailed metrics
- alert_banner: 2-3 instances for rotation alerts
- modal: 1 instance for confirmation dialogs

## Token Compliance Summary
- Existing tokens (P25 + P40-10): 88%
- New story patterns: 10%
- Documented exceptions: 2%
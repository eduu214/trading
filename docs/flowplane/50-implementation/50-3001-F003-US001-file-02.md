# F003-US001 Implementation Tasks - Core Portfolio Construction

## Slice 1: Core Happy Path

### Task 6: Implement Modern Portfolio Theory Engine
**Type**: backend
**Component**: CREATES: /shared/mpt_optimization_engine
**Design Tokens**: N/A
**Implementation**:
Build mean-variance optimization using PyPortfolioOpt with constraint handling (max 30% per strategy) as specified in 40-2001-F003-US001-ux-spec.md efficient frontier section
**Validation**: Optimization completes within 30 seconds for 50+ strategies with valid efficient frontier

### Task 7: Create Efficient Frontier Visualization
**Type**: frontend
**Component**: USES: performance_chart from P40-10
**Design Tokens**: colors.semantic.primary, colors.semantic.profit, colors.semantic.background, spacing.scale.80
**Implementation**:
Implement efficient frontier chart component as detailed in 40-2001-F003-US001-ux-spec.md visualization screen
**Validation**: Chart displays interactive efficient frontier with optimal portfolio point highlighting

### Task 8: Build Strategy Allocation Interface
**Type**: frontend
**Component**: USES: data_card from P40-10, form_field from P40-10
**Design Tokens**: colors.semantic.primary, spacing.semantic.md, typography.semantic.price
**Implementation**:
Create allocation table with percentage sliders per UX spec strategy selection panel requirements
**Validation**: Sliders update allocations with real-time portfolio metrics recalculation

### Task 9: Implement Portfolio Metrics Dashboard
**Type**: frontend
**Component**: USES: metric_display from P40-10
**Design Tokens**: colors.semantic.profit, colors.semantic.loss, typography.semantic.body_sm
**Implementation**:
Display expected return, volatility, and Sharpe ratio as specified in 40-2001-F003-US001-ux-spec.md metrics panel
**Validation**: Metrics update within 1 second of allocation changes

### Task 10: Create Portfolio Construction API
**Type**: backend
**Component**: CREATES: /api/portfolio/optimize
**Design Tokens**: N/A
**Implementation**:
FastAPI endpoint for portfolio optimization requests with constraint validation per technical spec section 4.1
**Validation**: API returns optimized allocations within 30-second performance target

### Task 11: Connect Frontend to Optimization Backend
**Type**: frontend
**Component**: USES: button from P40-10, loading_spinner from P40-10
**Design Tokens**: colors.semantic.primary, effects.semantic_transitions.hover
**Implementation**:
Integrate React components with portfolio optimization API as detailed in UX spec interactions
**Validation**: Frontend displays optimization results with proper loading states and error handling

## Slice 2: Alternative Flows

### Task 12: Implement Risk Budgeting Controls
**Type**: frontend
**Component**: USES: form_field from P40-10, status_badge from P40-10
**Design Tokens**: colors.semantic.status.error, colors.semantic.border.default
**Implementation**:
Add risk budgeting interface with 30% maximum allocation constraint validation per UX spec metrics panel
**Validation**: System prevents allocations exceeding risk limits with visual feedback

### Task 13: Create Real-time P&L Tracking Engine
**Type**: backend
**Component**: USES: SVC-005 from infrastructure registry
**Design Tokens**: N/A
**Implementation**:
Build real-time P&L calculation using Alpaca WebSocket integration as specified in technical spec section 4.3
**Validation**: P&L updates within 30-second latency requirement with accurate position tracking